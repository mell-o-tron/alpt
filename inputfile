\documentclass[a4paper,10pt]{article}
\usepackage[margin=25mm]{geometry}
\usepackage[utf8]{inputenc}
\usepackage{amsmath}
\usepackage{amsthm}
\usepackage{amsfonts}
\usepackage{listings}
\usepackage{courier}
\usepackage{MnSymbol}

\definecolor{backcolour}{rgb}{0.95,0.95,0.92}
\lstdefinestyle{c_style}{
    language=caml,
    backgroundcolor=\color{backcolour},
    numberstyle=\tiny,
    basicstyle=\ttfamily\footnotesize,
    keywordstyle=\bfseries,
    breakatwhitespace=false,
    breaklines=true,
    captionpos=b,
    keepspaces=true,
    numbers=left,
    numbersep=5pt,
    showspaces=false,
    showstringspaces=false,
    showtabs=false,
    tabsize=2
}

\lstdefinestyle{c_style}{
    language=python,
    backgroundcolor=\color{backcolour},
    numberstyle=\tiny,
    basicstyle=\ttfamily\footnotesize,
    keywordstyle=\bfseries,
    breakatwhitespace=false,
    breaklines=true,
    captionpos=b,
    keepspaces=true,
    numbers=left,
    numbersep=5pt,
    showspaces=false,
    showstringspaces=false,
    showtabs=false,
    tabsize=2
}

\begin{document}

\section{Hello, alpt!}
\subsection{Hello, alpt! in C}

First of all, let's include the \texttt{stdio} library:

\lstset{style=c_style}
§<main.c> § #include<stdio>
§

Then, let's create a function \texttt{main}, and call \texttt{puts}:

§<main.c> § int main(){
   puts("Hello, alpt!");
}§

\subsection{Hello, alpt! in python}
\lstset{style=py_style}

§<hello.py> § print("Hello, alept!")
§



\end{document}
